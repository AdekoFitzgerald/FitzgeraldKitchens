(_RUNDEFAULTHELPERRCP "DRAWER_DEFAULT" nil "p2chelper")
(_RUNDEFAULTHELPERRCP "DRAWER_PANELS_DEFAULT" nil "p2chelper")
(_RUNDEFAULTHELPERRCP "EDGES_DEFAULT" nil "p2chelper")

(_ADDPARTMAT2EDGESTRIPS (_ 'HIDDDEN_DRAWER_DOOR_LEFT_EDGESTRIP_MAT 'HIDDDEN_DRAWER_DOOR_RIGHT_EDGESTRIP_MAT 'HIDDDEN_DRAWER_DOOR_TOP_EDGESTRIP_MAT 'HIDDDEN_DRAWER_DOOR_BOTTOM_EDGESTRIP_MAT) DRAWER_BODY_MAT ADD_PART_MATERIAL)
; Width of edgestrips are taken from database
(_FSET (_ 'LEFT_EDGESTRIP_WID (_GETEDGESTRIPWIDFROMDB HIDDDEN_DRAWER_DOOR_LEFT_EDGESTRIP_MAT)))
(_FSET (_ 'RIGHT_EDGESTRIP_WID (_GETEDGESTRIPWIDFROMDB HIDDDEN_DRAWER_DOOR_RIGHT_EDGESTRIP_MAT)))
(_FSET (_ 'TOP_EDGESTRIP_WID (_GETEDGESTRIPWIDFROMDB HIDDDEN_DRAWER_DOOR_TOP_EDGESTRIP_MAT)))
(_FSET (_ 'BOTTOM_EDGESTRIP_WID (_GETEDGESTRIPWIDFROMDB HIDDDEN_DRAWER_DOOR_BOTTOM_EDGESTRIP_MAT)))

(if (not (equal __CURDIVORDER lastDiv))
	(_FSET (_ 'hiddenDrawerCounter 1))
	(_FSET (_ 'hiddenDrawerCounter (+ hiddenDrawerCounter 1)))
)

(_FSET (_ 'lastDiv __CURDIVORDER))
(_FSET (_ 'HIDDEN_DRAWER_DOOR_CODE (_& (_ "HIDDEN_DRAWER_" lastDiv "_" hiddenDrawerCounter "_DOOR"))))

(_PANELMAIN HIDDEN_DRAWER_DOOR_CODE (_  (_GENERATEPDATA HIDDEN_DRAWER_DOOR_WID HIDDEN_DRAWER_DOOR_HEI)
									    (_ HIDDDEN_DRAWER_DOOR_MAIN_ROTATION HIDDDEN_DRAWER_DOOR_CUTLIST_ROTATION HIDDDEN_DRAWER_DOOR_DXF_ROTATION HIDDDEN_DRAWER_DOOR_MIRRORING_AXIS)
										DRAWER_BODY_MAT
										DRAWER_BODY_THICKNESS
									)
)

(_CREATEEDGESTRIPS HIDDEN_DRAWER_DOOR_CODE (_ 	(_ HIDDDEN_DRAWER_DOOR_LEFT_EDGESTRIP_MAT LEFT_EDGESTRIP_WID) 
												(_ HIDDDEN_DRAWER_DOOR_TOP_EDGESTRIP_MAT TOP_EDGESTRIP_WID) 
												(_ HIDDDEN_DRAWER_DOOR_RIGHT_EDGESTRIP_MAT RIGHT_EDGESTRIP_WID) 
												(_ HIDDDEN_DRAWER_DOOR_BOTTOM_EDGESTRIP_MAT BOTTOM_EDGESTRIP_WID)
											)
)

(_PUTLABEL HIDDEN_DRAWER_DOOR_CODE HIDDEN_DRAWER_DOOR_CODE HIDDDEN_DRAWER_DOOR_LABEL)
(_PUTTAG HIDDEN_DRAWER_DOOR_CODE HIDDEN_DRAWER_DOOR_CODE HIDDDEN_DRAWER_DOOR_TAG)
(_NONOTCH)